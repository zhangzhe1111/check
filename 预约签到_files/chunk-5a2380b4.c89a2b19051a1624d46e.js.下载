(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a2380b4"],{"323a":function(e,t,i){"use strict";var n,s=i("ade3"),o=(i("99af"),i("caad"),i("b0c0"),i("e9f5"),i("a732"),i("d3b7"),i("c1df")),r=i.n(o),a=i("bab3"),c=i.n(a);t["a"]={data:function(){return{mixAppointmentNotPublishedTitle:"资源未发布",m_mixAppointmentNotPublishedTitle:"资源未发布",mixAppointmentNotPublishedTips:"该预约为旧版预约，已经失效，需要预约可从预约大厅进入新版预约。",m_mixAppointmentNotPublishedTips:"该预约为旧版预约，已经失效，需要预约可从预约大厅进入新版预约。",mixinIsShowLayoutBody:!0,m_mixinIsShowLayoutBody:!0,mixIsShowBlackListRemark:!1,mixIsVerifyReservationDeadline:!1,mixIsShowIconLibrary:!1,mixIsShowAllDeleteFailAppointment:!1,mixHallShowZhifuchaxun:{default:!0},mixHallShowFacility:!0,mixHallShowIdentity:{default:!0},mixIsAppEnv:!0,mixHallCapacityList:{default:{1:{min:0,max:6},2:{min:7,max:15},3:{min:16,max:30},4:{min:31,max:1/0}}},mixCapacityIsRequired:{default:!0},mixHallShowQueryCriteria:!0,mixHallShowPersonal:!0,mixMyReserveShowFooter:!1,mixHallViewId:[],mixReserveSuccessToPath:{path:"/site/ucenter",query:{showroute:"myAppointment"}},mixReserveSuccessToPathMobile:{path:"/reserve/m_myReserve"},mixisShowReserveBasic:!0,mixShowPlacePic:!0,mixHallShowFilter:!0,mixShowReserveCount:!1,mixShowOfficialFast:!1,mixCauOptional:!1,mixShowHallDetail:{default:!0},mixIsSkip:!0,mixReserveErrorHint:{default:0},mixReserveDuiQi:{default:!1},mixShowHallCalendar:{default:!0},mixSpecialHiddenCarousel:{default:!0},mixSignlnImg:{warning:"warning1.png",success:"duigou1.png"},mixResourceNameMax:"30",mixCustomClass:"",mixHallShowScreen:{default:!0},mixHallShowBuilding:{default:!0},mixHallShowDepartment:{default:!0},mixIsShowDutyDepart:!1,mixIsShowPeople:!0,mixIsShowTime:!0,mixBtnsCustomizedClass:{btns_left:"btns_left",btns_right:"btns_right"},mixIsLoopCall:!0,mixIsLoopCall_M:!0,mixShowMakeAnAppointmentText:"团队预约",mixTipMakeAnAppointmentText:"团队预约",mixShowMakeAnAppointmentTime:!0,mixDefaultLaunch:!1,mixIsShowInfoTime:!0,mixSliderYZM:!1,mixTeamMakeAnAppointmentMinNum:1,mixIsVersionsListeners:!0,mixIsReserveBasicList_H:{default:!0},mixConfirmButtonText:"确定",mixConfirmButtonTime:0,mixPreviewTotal:!0,mixIsBookableText:"相同时段最多预约1人",mixIsClassById:["16"],mixIsCapacityText:!1}},computed:{mixReserveReason:function(){return"预约理由"},mixStyleTimeInfo:function(){return function(){return""}},mixRemoveImages:function(){return!1},mixIsShowHeadAndFoot:function(){return!0},mixAdjustFontShow:function(){return{width:"100%",height:"200px"}},mixShowMinNum:function(){return!1},mixCustomAppointmentFullFont:function(){return"约满"},mixCustomResourceInfo:function(){return this.resourceInfo},mixMreserveTwoText:function(){return{}},mixShowPayMoney:function(){return this.detail.pay_money}},components:{mixPkuTeachingHint:{template:""},mixMakeAnAppointmentYZM:{template:'\n        <div class="yzm" v-show="resourceInfo.is_verify">\n          <div class="yzm-title">\n            <span>验证码</span>\n            <el-link href="javascript:;" @click.native="changeurlpic" type="primary">换一张</el-link>\n          </div>\n          <img\n            class="reserveDetail_yzm"\n            @click="changeurlpic"\n            src=""\n            alt=""\n          />\n          <el-input :value="yzmValue" @input="changeYzmValue" size="small" :placeholder="resourceInfo.verify_type ? \'请按正确顺序输入以上文字组成的成语\' : \'\'"></el-input>\n        </div>\n      ',props:{resourceInfo:{type:Object},yzmValue:{type:String}},methods:{changeYzmValue:function(e){this.$emit("changeYzmValue",e)},changeurlpic:function(e){this.$emit("changeurlpic",e)}}},MixPicBox:{template:'\n        <div><el-image\n          v-for="(item, index) in resourceInfo.arr_preview_img"\n          :key="index"\n          :src="siteConfig.imghost + \'/\' + item"\n          :preview-src-list="resourceInfo.arr_preview_img.map(url => siteConfig.imghost + \'/\' + url)">\n        </el-image></div>\n      ',props:{resourceInfo:{type:Object,default:{}}}},MixDetailList:{template:'    <table>\n      <tr v-if="resourceInfo.serve_name && resourceInfo.json_display_info.base_info.serve_id">\n        <td>服务对象</td>\n        <td>{{resourceInfo.serve_name}}</td>\n      </tr>\n      <tr v-if="isEnable != \'不需要收费\'">\n        <td>是否收费</td>\n        <td>{{isEnable}}</td>\n      </tr>\n      <tr v-if="resourceInfo.capacity">\n        <td>可容纳人数</td>\n        <td>{{resourceInfo.capacity}}人</td>\n      </tr>\n      <tr v-if="resourceInfo.duty_depart_name">\n        <td>负责单位</td>\n        <td>{{resourceInfo.duty_depart_name}}</td>\n      </tr>\n      <tr v-if="resourceInfo.duty_people">\n        <td>负责人</td>\n        <td>{{resourceInfo.duty_people}}</td>\n      </tr>\n      <tr v-if="resourceInfo.group_min_num">\n        <td>最少预约人数</td>\n        <td>{{resourceInfo.group_min_num}}</td>\n      </tr>\n      <tr v-if="resourceInfo.contacts && resourceInfo.json_display_info.base_info.contacts">\n        <td>联系人</td>\n        <td>{{resourceInfo.contacts}}</td>\n      </tr>\n      <tr v-if="resourceInfo.tel && resourceInfo.json_display_info.base_info.contacts">\n        <td>联系电话</td>\n        <td>{{resourceInfo.tel}}</td>\n      </tr>\n      <tr v-if="resourceInfo.json_address.details">\n        <td>详细地点</td>\n        <td>{{resourceInfo.json_address.text}}</td>\n      </tr>\n    </table>\n        ',props:{resourceInfo:{type:Object,default:{}},isEnable:{type:String,default:""}}},mixBackSpecialBackgroundImg:{template:""}},methods:(n={mixTipMakeAnAppointmentTextUnit:function(){return"人，多个时段按照可预约人数最少为准。"},minReservationRuleText:function(){return"人"},mixArrFieldAssign:function(){return[]},mixbackOperateText:function(){return"返回"},mixIsShowReservationRule:function(e){return!0},mixActiveBgColor:function(){var e;null===(e=$("#weekReserve"))||void 0===e||e.css({"--mixActiveBgColor":"#34A853"})},mixinIsShowBasicInformation:function(e){return[].includes(e)},mixIsMakeReservation:function(){return!1},mixIsPersonalTotal:function(e){return"已预约人次"},mixIsServiceDayText:function(){return"每天"},mixIsServiceText:function(){return"开放时间："},mixIsShowBasic:function(e,t){return void 0!=this.mixIsReserveBasicList_H[e[t]+""]?this.mixIsReserveBasicList_H[e[t]+""]:this.mixIsReserveBasicList_H.default},mixIsServiceTime:function(e){return!0},mixIsCapacityDW:function(e){return"人"},mixIsShowFmmu:function(){return!0},mixIsPeriodText:function(e){return!0},mixIsReservationText:function(e){return"可预约"},mixShowPlacePicAsId:function(){},mixIsConfirm:function(){return!1},mixIsConfirmText:function(){}},Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(n,"mixShowPlacePicAsId",(function(){return!0})),"mixIsServeName",(function(){return!1})),"mixHallHidePersonal",(function(){return!1})),"mixIsReserveListNext_M",(function(e,t){var i=!1;for(var n in t)i=!!t[n].some((function(e){return 1==e.row.status||5==e.row.status}));i||(this.mixIsLoopCall_M=!0,e.$set(e,"currDate",r()(e.currDate).add(1,"days").format("YYYY-MM-DD")),e.$refs.MSelectWeek.getWeekTime(e.currDate))})),"mixIsReserveListNext",(function(e,t){var i=!1;for(var n in t.table)i=!!t.table[n].some((function(e){return 1==e.row.status||5==e.row.status}));i||(console.log(e.$refs.selectWeek),e.resourceSearTime[t.id]&&(this.$set(e.resourceSearTime[t.id],0,r()(e.resourceSearTime[t.id][0]).add(7,"days").format("YYYY-MM-DD")),this.$set(e.resourceSearTime[t.id],1,r()(e.resourceSearTime[t.id][1]).add(7,"days").format("YYYY-MM-DD")),this.mixIsLoopCall=!0,e.searchResource(t),e.time=e.resourceSearTime[t.id][0]))})),"mixIsReserveBtnName",(function(){return"确定预约"})),"mixIsHallShowPersonal",(function(e){return!0})),"mixIsShowCancel",(function(){return!0})),"mixIsHeaderHide",(function(){return!0})),"mixIsTopHide",(function(){return!0})),Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(n,"mixGetConfig",(function(e,t){return this[e]&&void 0!=this[e][t]?this[e][t]:this[e].default})),"mixAdmissibleShow",(function(){return!0})),"mixResetTimeShow",(function(e){return e})),"mixgetQrcodeUrl",(function(e){return 2==e.qrcode_sign_type?"".concat(this.$appConfig.apiBaseUrl,"/v2/reserve/hall_signIn?hall_id=").concat(e.hall_id):"".concat(this.$appConfig.apiBaseUrl,"/v2/reserve/m_signIn?id=").concat(e.id)})),"mixisShowNextWeek",(function(){return!0})),"mixCapacityText",(function(e,t){return{isCommon:!0,text:t?t.name:"可容纳人数",text1:"可容纳"}})),"mixGetNoZeroMonthDate",(function(e){var t=e.split("-");return{abscissa:e,showData:"".concat(t[1],"月").concat(t[2],"号")}})),"mixCalculateReviewPageInfoBox",(function(e){this.$nextTick((function(){var t=$(".special .docs").outerHeight()-92;4===e?($(".special .docs").css({bottom:-142,backgroundColor:"#fff",backgroundImage:"url(".concat(c.a,")"),backgroundPosition:"right",backgroundSize:"45% 100%",backgroundRepeat:"no-repeat"}),$(".special .special_con").css("margin-top",120)):($(".special .docs").css("bottom",-t),$(".special .special_con").css("margin-top",t-20))}))})),"mixApplyNameClass",(function(){return{applyName:!0}})),"mixSliderMakeAnAppointmentPost",(function(e){})),Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(n,"mixSliderMakeAnAppointmentOpen",(function(){})),"mixMakeAnAppointment",(function(){})),"mixCustomInitParam",(function(){})),"mixCustomRule",(function(e,t){})),"mixPromptText",(function(e){return"您无本服务的申请权限"})),"mixSetTitleRsValue",(function(){})),"mixCustomBasicInformation",(function(){})),"mixMreserveTwoCallBack",(function(){})))}},"79d4":function(e,t,i){},bab3:function(e,t,i){e.exports=i.p+"static/img/special_bg.9d43bb24.png"},bce2:function(e,t,i){"use strict";t["a"]={data:function(){return{mixBtnsCustomizedClass:{btns_left:"hnu_btns_left",btns_right:"hnu_btns_right"}}}}},e9b15:function(e,t,i){"use strict";i.r(t);i("caad"),i("b0c0"),i("2532");var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m_signIn",attrs:{id:"sign_in"}},[t("div",{staticClass:"tit-top"},[e._v("\n    预约签到\n  ")]),e._v(" "),t("div",{staticClass:"cont"},[t("el-card",{staticClass:"box-card sign_in_box"},[t("div",{staticClass:"time_result"},[3!=e.$route.query.qrcode_type?[t("span",{staticClass:"date",class:0==e.flag?"green":"yellow",staticStyle:{"font-size":"0.24rem"}},[e._v(e._s(e.contDate))]),e._v(" "),t("span",{staticClass:"time",class:0==e.flag?"green":"yellow",staticStyle:{margin:"0.1rem 0","font-size":"0.16rem"}},[e._v(e._s(e.contTime))])]:e._e(),e._v(" "),3==e.$route.query.qrcode_type?t("div",[t("canvas",{staticStyle:{width:"200px"},attrs:{id:"sign_code_canvas"}}),e._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("p",[e._v("\n                      "+e._s(e.canvasInfo.name)+"\n                      ")]),e._v(" "),e._l(e.canvasInfo.time,(function(i,n){return t("p",{key:n},[e._v(e._s(i))])}))],2)]):e._e(),e._v(" "),e.loading||3==e.$route.query.qrcode_type?e._e():t("span",{staticClass:"result"},[0==e.flag?t("i",{staticClass:"el-icon-success green el-icon"}):t("i",{staticClass:"el-icon-error yellow el-icon"}),e._v(" "),t("span",{staticClass:"result_txt",class:0==e.flag?"green":"yellow"},[e._v("\n                      "+e._s(null==e.flag?"":0==e.flag?"签到成功":"签到失败")+"\n                  ")])]),e._v(" "),1==e.flag?t("span",{staticClass:"yellow"},[e._v("\n                  "+e._s(e.infoArrM)+"\n              ")]):e._e()],2),e._v(" "),-1!=[0].indexOf(e.flag)?t("el-descriptions",{staticClass:"sign_in_info",attrs:{column:"1"}},[e.infoArr.length?t("el-descriptions-item",{class:0==e.flag?"green":"yellow",attrs:{label:"签到时间"}},[e._v(e._s(e.infoArr[0].date))]):e._e(),e._v(" "),t("el-descriptions-item",{class:0==e.flag?"green":"yellow",attrs:{label:"预约资源"}},[e._v(e._s(e.name))]),e._v(" "),t("el-descriptions-item",{class:0==e.flag?"green":"yellow",attrs:{label:"预约时段"}},[e._l(e.infoArr,(function(i){return[e._v("\n                      "+e._s(i.time)+"\n                      "),t("br")]}))],2)],1):e._e()],1),e._v(" "),t("el-descriptions",{staticClass:"user_info",attrs:{column:"1"}},[e.configInfo.includes("name")?t("el-descriptions-item",{attrs:{label:"姓名"}},[e._v(e._s(e.userInfo.name))]):e._e(),e._v(" "),e.configInfo.includes("number")?t("el-descriptions-item",{attrs:{label:"学工号"}},[e._v(e._s(e.userInfo.number))]):e._e(),e._v(" "),e.configInfo.includes("department")?t("el-descriptions-item",{attrs:{label:"部门"}},[e._v(e._s(e.userInfo.college))]):e._e(),e._v(" "),e.configInfo.includes("id_card")&&e.idCard?t("el-descriptions-item",{attrs:{label:"身份证"}},[e._v(e._s(e.idCard))]):e._e()],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.ViewAppointment}},[e._v("查看我的预约")])],1)])},s=[],o=i("5530"),r=(i("14d9"),i("323a")),a=i("bce2"),c=i("d055"),u=i.n(c),l=i("c1df"),m=i.n(l),d={mixins:[r["a"],a["a"]],data:function(){return{flag:null,infoArr:[],infoArrM:"",id:0,info:"",loading:!0,subresource:!1,siginInId:"",userInfo:{},idCard:"",configInfo:[],errorMsg:"",name:"",canvasInfo:{},contTime:"",contDate:"",timerId:""}},mounted:function(){var e=this;this.id=this.$route.query.id,3==this.$route.query.qrcode_type?this.getSignCode():this.getSignIn(),this.userInfo=this.$authH.getUserInfo(),this.timerId=setInterval((function(){e.contDate=m()().format("YYYY-MM-DD"),e.contTime=m()().format("HH:mm:ss")}),1e3)},methods:{ViewAppointment:function(){this.$router.push("/reserve/m_myReserve")},getSignIn:function(){var e=this;this.id&&this.$appFetch({url:"getSignInfo",method:"get",data:{resource_id:this.id,code:this.$route.query.code}},(function(t){e.errorMsg=1==t.e?t.m:"",e.flag=t.e,0==t.e&&(e.configInfo=t.d.config,e.infoArr=t.d.data,e.idCard=t.d.id_card,e.name=t.d.name),e.loading=!1})).then((function(t){e.flag=t.e,e.infoArrM=t.m}))},signIn:function(){var e=this;this.$appFetch({url:"reservSignIn",method:"get",data:{code:this.siginInId}},(function(t){0==t.e?(e.$message.success("签到成功"),setTimeout((function(){e.$router.push({path:"/reserve/m_myReserve"})}),1e3)):e.$message.error(t.m),e.loading=!1}))},back:function(){window.history.length>1?window.history.go(-1):this.$appCommonH.isWeixin().isWeixin?wx.closeWindow():this.$router.push({path:"/site/m_index"})},getSignCode:function(){var e=this;this.$appFetch({url:"getSignCode",method:"get",data:{id:this.$route.query.id}},(function(t){if(0==t.e){e.canvasInfo=t.d;var i=document.getElementById("sign_code_canvas");setTimeout((function(){u.a.toCanvas(i,t.d.code,{width:"200px",height:"300px",margin:1},(function(e){e&&console.error(e)}))}),1e3)}else e.$message.error(t.m);e.loading=!1}))}},beforeDestroy:function(){clearInterval(this.timerId),this.timerId=null}},f=(i("79d4"),Object(o["a"])({},d)),p=f,x=i("2877"),h=Object(x["a"])(p,n,s,!1,null,null,null);t["default"]=h.exports}}]);